<div class="container">
  <div class="jumbotron">
    <h1>Fixed Deposit</h1> 
  </div>
  

 <div id="myCarousel" class="carousel slide" data-ride="carousel">
  <!-- Indicators -->
  <ol class="carousel-indicators">
    <li data-target="#myCarousel" data-slide-to="0" class="active"></li>
    <li data-target="#myCarousel" data-slide-to="1"></li>
    <li data-target="#myCarousel" data-slide-to="2"></li>
    <li data-target="#myCarousel" data-slide-to="3"></li>
  </ol>

  <!-- Wrapper for slides -->
  <div class="carousel-inner" role="listbox">
    <div class="item active">
      <%= image_tag("FD1.JPG") %>
    </div>

    <div class="item">
      <%= image_tag("FD2.JPG") %>
    </div>

    <div class="item">
      <%= image_tag("FD3.JPG") %>
    </div>

  </div>

  <!-- Left and right controls -->
  <a class="left carousel-control" href="#myCarousel" role="button" data-slide="prev">
    <span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>
    <span class="sr-only">Previous</span>
  </a>
  <a class="right carousel-control" href="#myCarousel" role="button" data-slide="next">
    <span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>
    <span class="sr-only">Next</span>
  </a>
 </div>

 <div class="container-fluid">
  <div class="text-center">
    <h2><strong>Decide your FD.</strong></h2>
  </div>


 <div class="row slideanim">
   <div class="col-sm-4 col-xs-12">
     <div class="panel panel-default text-center">
        <div class="jumbotron">
   			<h1>3 Months</h1> 
  		</div>
  		<h2 id="3months"><%= "Rate : #{@initial_fixed_deposit_rates[0]}%" %></h2>
     </div>
   </div>


  
   <div class="col-sm-4 col-xs-12">
     <div class="panel panel-default text-center">
        <div class="jumbotron">
   			<h1>6 Months</h1> 
  		</div>
  		<h2 id="6months"><%= "Rate : #{@initial_fixed_deposit_rates[1]}%" %></h2>
     </div>
   </div>


 
   <div class="col-sm-4 col-xs-12">
     <div class="panel panel-default text-center">
        <div class="jumbotron">
   			<h1>9 Months</h1> 
  		</div>
  		<h2 id="9months"><%= "Rate : #{@initial_fixed_deposit_rates[2]}%" %></h2>
     </div>
   </div>
 </div>


	<div class="form-group">
       <input type="integer">
       <input type="submit" value="Deposit">
    </div>



<button>Button</button>
<button id="start">Start</button>
<button id="stop">Stop</button>

<br><br>

<div class="container">
  <div class="progress progress-striped">
    <div class="progress-bar progress-bar-success" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100">
    </div>
  </div>
</div>



<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
<script type="text/javascript">
  $(document).ready(function(){

    $('button').click(function(){
      
    });

    var timer = null;
    var progress = null;
    var count = 10;
    var progressbar = 0;

    function displayTime(){
      var min = Math.floor((count / 60) % 60)
      var sec = count % 60
      $('#time').text(min+':'+sec);
    }

    $('#start').click(function(){
      
      progress = setInterval(function(){
        progressbar += 1;
        $('.progress-bar').attr("style", "width:"+progressbar+"%")
        $('.progress-bar').text(progressbar+"%")
        if (progressbar >= 100){
          $('.progress-bar').addClass("progress-bar-success")
          clearInterval(progress);
          $.ajax({
            method: "post",
            url: "/refresh_fd_rates",
            beforeSend: function(xhr){xhr.setRequestHeader('X-CSRF-Token', $('meta[name="csrf-token"]').attr('content'))},
            dataType: "json",
            success: function(data){
              $('#3months').text("Rate : "+data[0]+"%");
              $('#6months').text("Rate : "+data[1]+"%");
              $('#9months').text("Rate : "+data[2]+"%");
            }
          });
        }
      },50)

      timer = setInterval(function(){
        count-=1;
        displayTime();
        if (count <= 0){
          clearInterval(timer);
        }
      },1000)
      
      

    });

    $('#stop').click(function(){
      clearInterval(progress);
      clearInterval(timer);
    });


    



    
    
  });
</script>


<div class="form-group">
        <input type="submit" value="Progress Bar">
        <input type="submit" value="Re-invest">
        <input type="submit" value="Sell">
      </div>
    <br>
  

  <h3>
    <strong>Investment Overview:</strong><br>
    Funds available: RM <strong>1000</strong> <br>
    Interest gained at end of maturity: 1.8%<br>
    <br>

    <strong>Investment Summary:</strong><br>
    Total value of investment: RM <strong>1018</strong> <br>
    Annualized rate of return <strong>4.25%</strong> <br>
  </h3>


</div>